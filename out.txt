Equipe:
=======

O trabalho pode ser feito em grupos de at√© 2 alunos.


Tema:
=====

Implementar um programa  em C que jogue o jogo  "Futebol dos Fil√≥sofos
Unidimencional".


Entrega:
========

O trabalho deve ser entregue por email para fabiano at inf.ufpr.br at√©
23:59 do dia da entrega do trabalho.

O  email deve  conter a  identifica√ß√£o completa  dos alunos  da equipe
(nome completo, GRR e login no  sistema) e um arquivo .tar.gz em anexo
contendo:  o c√≥digo  fonte, makefile  e leiame.txt,  este √∫ltimo  deve
conter detalhes que possam ser relevantes na avalia√ß√£o do trabalho.


Especifica√ß√£o:
==============

O  jogo "Futebol  dos Fil√≥sofos  Unidimencional" √©  um jogo  onde dois
jogadores competem  entre si em  um campo finito  unidimensional. Cada
extremo do campo √© ocupado por um jogador. O jogo termina quando algum
jogador marca gol, fazendo  com que a bola saia do  campo pelo lado do
seu advers√°rio.

Os dois jogadores, o da esquerda e o da direita, se revesam em turnos.
Em cada  turno o jogador  da vez pode  fazer apenas uma  das seguintes
a√ß√µes:

  - Colocar um novo fil√≥sofo em alguma posi√ß√£o n√£o ocupada do campo;

  - Mover a bola.

O movimento da bola acontece em  saltos sobre sequ√™ncias de um ou mais
fil√≥sofos  adjacentes.  Para saltar  a  bola  sobre uma  sequ√™ncia  de
fil√≥sofos a  bola precisa estar  em uma  posi√ß√£o do campo  adjacente √
sequ√™ncia.

Considere por  exemplo a  seguinte configura√ß√£o de  um campo  em algum
momento de uma partida:

  ..fff.off.f.fff..f.

Este campo  tem 19 posi√ß√µes, as  posi√ß√µes com "." indicam  as posi√ß√µes
n√£o ocupadas  do campo, as posi√ß√µes  com "f" indicam os  fil√≥sofos que
est√£o em campo e  o "o" √© a bola. Neste cen√°rio o  jogador da vez pode
mover  a bola,  saltando  sobre os  dois fil√≥sofos  que  est√£o logo  a
direita da bola.  O destino do  salto n√£o pode ser uma posi√ß√£o ocupada
do campo.  Os  fol√≥sofos que s√£o saltados pela  bola s√£o imediatamente
retirados do campo. A configura√ß√£o do campo resultante √© dada por:

  ..fff....of.fff..f.

O  movimento  da  bola  pode  ser   composto  por  mais  de  um  salto
consecutivo,  o  jogador  da  vez  define de  quantos  saltos  ser√°  o
movimento da bola. Considerando o campo:

  ..fff.off.f.fff..f.

Os seguintes movimentos da bola s√£o poss√≠veis:

  ..fff....of.fff..f.     (um salto sobre dois fol√≥sofos)

  ..fff......offf..f.     (dois saltos, 2+1 fil√≥sofos)

  ..fff..........o.f.     (tr√™s saltos, 2+1+3 fil√≥sofos)

O movimento da bola pode resultar  em gol.  Considere que o jogador da
vez √© o da direita e que a configura√ß√£o do campo √© dada por:

  ffffffoff.f.fff..f.

Nesta configura√ß√£o, o jogador da direita pode marcar um gol saltando a
bola sobre  a sequ√™ncia  de 6  fil√≥sofos que est√°  logo √   esquerda da
bola, fazendo com  que a bola saia do campo  pelo extremo esquerdo. Ao
marcar o gol o jogador da direita vence e a partida √© encerrada.

O seu programa deve implementar  um jogador autom√°tico que se comunica
via entrada e sa√≠da padr√£o (stdin  e stdout). O funcionamento deve ser
um processo repetitivo composto dos seguintes passos:

  1) ler  da entrada padr√£o a  configura√ß√£o atual do campo  e a √∫ltima
     a√ß√£o feito pelo advers√°rio;

  2) escolher, em no m√°ximo 5 segundos, a a√ß√£o que ser√° feita;

  3) escrever na sa√≠da padr√£o a a√ß√£o escolhida;

  4) voltar para o passo 1.

O seu  programa se comunicar√°  com um controlador  do campo que  faz o
controle da partida, revezando os dois jogadores e controlando o tempo
de resposta de cada um.

A configura√ß√£o do campo √© dada por  uma linha em formato texto, com os
seguintes elementos separados por espa√ßos:

  - um caractere  "e" ou  "d", indicando  de que lado  do campo  o seu
    jogador est√°;

  - um n√∫mero inteiro impar K, indicando o tamanho do campo;

  - uma  sequ√™ncia de  K  caracteres (string)  com  a configura√ß√£o  do
    campo, onde "." indica uma posi√ß√£o livre, "f" indica um fil√≥sofo e
    "o" indica a bola.

Os √≠ndices das posi√ß√µes no campo v√£o de 1 at√© K.

As a√ß√µes s√£o  dadas por uma linha  em formato texto que  inicia com um
caractere "e" ou  "d", indicando de qual jogador √©  a a√ß√£o, seguido de
um espa√ßo e da descri√ß√£o da a√ß√£o:

  - a a√ß√£o  de inserir um  novo fil√≥sofo no campo  √© dada por  um "f",
    seguido de um espa√ßo  e um n√∫mero inteiro entre 1  e K indicando a
    posi√ß√£o do campo onde o fol√≥sofo ser√° inserido;

  - a a√ß√£o de mover a bola √© dada por um "o", seguido de um espa√ßo, um
    n√∫mero  inteiro indicando  o  n√∫mero de  saltos  do movimento,  um
    espa√ßo e uma sequ√™ncia de n√∫meros inteiros entre 0 e K+1 separados
    por espa√ßos, indicando as posi√ß√µes de destino de cada salto;

  - uma  a√ß√£o especial  nula dada  pelo caracter  "n" pode  ocorrer em
    casos especiais como: in√≠cio de jogo, fim de jogo, a√ß√µes inv√°lidas
    ou viola√ß√£o do tempo de resposta de 5 segundos.

Um salto da bola que resulta em gol  deve ser o √∫ltimo e deve ter como
destino uma  posi√ß√£o fora do  campo. Este  destino √© uma  das posi√ß√µes
especiais: 0 para o lado esquerdo e K+1 para o lado direito.

A partida  inicia com o  campo contendo apenas  a bola na  sua posi√ß√£o
central.

O tamanho do campo n√£o muda durante a partida.

A partida termina quando a configura√ß√£o do campo n√£o contiver a bola e
o jogador vitorioso √© aquele que fez o √∫ltimo movimento.

Por exemplo, considere que o seu  jogador, logo ap√≥s iniciar, recebe a
seguinte entrada:

e 7 ...o...
d n

A primeira linha indica que a posi√ß√£o do seu jogador √© o lado esquerdo
do campo,  que o campo tem  7 posi√ß√µes e  que apenas a posi√ß√£o  4 est√°
ocupada  com a  bola. A  segunda  linha indica  que a  √∫ltima a√ß√£o  do
jodador da direita √© a a√ß√£o especial nula, que indica neste caso que o
seu jogador √© o primeiro a jogar.

Suponha que o  seu jogador decide inserir um fil√≥sofo  na posi√ß√£o 7 do
campo. Para isso ele deve gerar a seguinte sa√≠da:

e f 7

Esta a√ß√£o √©  recebida pelo controlador que atualiza o  campo e passa a
vez para o jogador da direita. Ap√≥s  a jogado da direita o seu jogador
recebe a entrada:

e 7 ...of.f
d f 5

A nova configura√ß√£o do campo tem  o fil√≥sofo que o seu jogador inseriu
na posi√ß√£o  7 na jogada  anterior e um novo  fil√≥sofo na posi√ß√£o  5. A
segunda  linha indica  que a  √∫ltima a√ß√£o  do jogador  da direita  foi
inserir o fil√≥sofo da posi√ß√£o 5.

O seu jogador  agora decide marcar um gol saltando  a bola duas vezes,
uma para a posi√ß√£o 6 e outra para fora do campo:

e o 2 6 8

Ap√≥s o  controlador verificar  que um  gol foi  marcado o  seu jogador
recebe:

e 7 .......
d n

O que  indica que  a partida  terminou pois  a bola  n√£o est√°  mais em
campo.  A  a√ß√£o "n"  neste caso  indica que o  jogador da  direita n√£o
jogou nesta √∫ltima rodada.

Caso o seu  jogador n√£o gere como  sa√≠da uma nova a√ß√£o no  limite de 5
segundos, o controlador passar√° a vez para o advers√°rio, assumindo que
a a√ß√£o do seu jogador foi "n".
